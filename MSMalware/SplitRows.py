


# Linda MacPhee-Cobb
# https://github.com/timestocome

# MS Malware Detection
# https://www.kaggle.com/c/microsoft-malware-prediction





import numpy as np
import pandas as pd


pd.set_option('display.max_columns', 400)
pd.set_option('display.max_rows', 1000)
pd.set_option('precision', 5)
np.set_printoptions(precision=5)


#################################################################################################
# used sed to cleanup stuff pandas choked on
# sed -i 's/,59e3,'/,-1,/g' train.csv



#################################################################################################
# split training data into true/false see if any big differences jump out

#################################################################################################
print('reading in training data')
train = pd.read_csv('train.csv', index_col=0)

features = list(train.columns.values)

sort_feature = 'AVProductStatesIdentifier'

print(train.dtypes)

sorted_train = train.sort_values(by=[sort_feature])

print(sorted_train.head(30)[sort_feature])
AvSigValues = sorted_train[sort_feature].unique()
print(len(AvSigValues))



n_samples = len(train)
n_train = int(n_samples * .8)
n_test = n_samples - n_train


print(sorted_train.iloc[n_train])


'''
# split datasets apart
s_train0 = sorted_train[sorted_train['AvSigVersion'] < '1.275.281.0']
s_train1 = sorted_train[sorted_train['AvSigVersion'] >= '1.275.281.0']

print('train', len(s_train0))
print('test', len(s_train1))


s_train0.to_csv('sorted_train.csv')
s_train1.to_csv('sorted_test.csv')


'''
